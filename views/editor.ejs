<%- include("partials/header") %>

<div class="editor-container">

    <!-- Top Controls -->
<div class="editor-toolbar">

    <div class="left-controls">
        <select id="language" class="styled-select">
            <option value="63" <%= language === "63" ? "selected" : "" %>>JavaScript</option>
            <option value="71" <%= language === "71" ? "selected" : "" %>>Python</option>
            <option value="54" <%= language === "54" ? "selected" : "" %>>C++</option>
            <option value="50" <%= language === "50" ? "selected" : "" %>>C</option>
            <option value="62" <%= language === "62" ? "selected" : "" %>>Java</option>
        </select>
    </div>

    <div class="center-controls">
        <button onclick="runCode()" class="btn-run">
            â–¶ Run Code
        </button>
    </div>

    <div class="right-controls">
        <span class="room-id">Room ID: <%= roomId %></span>
    </div>

</div>


    <!-- Editor Area -->
    <div id="editor" style="height:500px; width:100%;"></div>

    <!-- Console Section -->
     <!-- Console Section -->
<div class="console-container">

    <!-- Input Area -->
    <div class="console-box">
        <h3>Input</h3>
        <textarea id="input" placeholder="Enter input here (if required)"></textarea>
    </div>

    <!-- Output Area -->
    <div class="console-box">
        <h3>Output</h3>
        <textarea id="output" readonly></textarea>
    </div>

</div>


</div>

</div>


<!-- Pass Backend Variables BEFORE loading editor.js -->
<script>
    const roomId = "<%= roomId %>";
    const initialCode = `<%- code %>`;
    const initialLanguage = "<%= language %>";
</script>

<!-- IMPORTANT: Load Monaco Loader -->
<script src="https://unpkg.com/monaco-editor@0.44.0/min/vs/loader.js"></script>

<!-- Load Your Editor Logic -->
<script src="/js/editor.js"></script>

<%- include("partials/footer") %>
